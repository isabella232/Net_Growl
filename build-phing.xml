<?xml version="1.0" encoding="UTF-8"?>
<project name="netgrowl" default="make-full-docs" basedir=".">

    <property name="asciidoc.home" value="C:\asciidoc-8.6.3" override="true" />
    <property name="homedir" value="C:\php\pear\Net_Growl" override="true" />
    <property name="htmlhelpworkshop" value="C:\Program Files\HTML Help Workshop" override="true" />

    <target name="make-userguide-all"
            depends="make-userguide, make-userguide-chunked, make-userguide-htmlhelp, make-userguide-pdf"
            description="Build the user guide of Net_Growl in all formats">

    </target>

    <target name="make-userguide"
            description="Build the user guide of Net_Growl">

        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl -a toc -n ${homedir}/docs/userguide.txt"
        />

    </target>

    <target name="make-userguide-chunked"
            description="Build the user guide of Net_Growl in many HTML files">

        <exec dir="${asciidoc.home}"
            command="a2x.py -L --icons --stylesheet=./stylesheets/docbook-xsl.css -d book -f chunked ${homedir}/docs/userguide.txt"
        />

    </target>

    <target name="make-userguide-htmlhelp"
            description="Build the user guide of Net_Growl in CHM format">

        <exec dir="${asciidoc.home}"
            command="a2x.py -L --icons --stylesheet=./stylesheets/docbook-xsl.css -d book -f htmlhelp ${homedir}/docs/userguide.txt"
        />

        <exec dir="${htmlhelpworkshop}"
            command="hhc.exe ${homedir}/docs/userguide.hhp"
        />

    </target>

    <target name="make-userguide-pdf"
            description="Build the user guide of Net_Growl in PDF format">

        <exec dir="${asciidoc.home}"
            command="a2x.py -L --icons --stylesheet=./stylesheets/docbook-xsl.css -d book -f pdf --fop ${homedir}/docs/userguide.txt"
        />

    </target>

    <target name="make-docs"
            depends="clean-docs"
            description="Build the documentation of Net_Growl">

        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/CHANGELOG.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/INSTALL.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/LICENSE.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/bin/index.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl -a toc ${homedir}/docs/index.txt"
        />

    </target>

    <target name="make-full-docs"
            depends="clean-docs, clean-docs-sources, make-docs-sources, make-docs, make-userguide"
            description="Build the full documentation of Net_Growl">

    </target>

    <target name="clean-docs"
            description="Remove old html generated files">

        <delete>
            <fileset dir="${homedir}/docs">
                <include name="*.html" />
            </fileset>
        </delete>

    </target>

    <target name="clean-docs-sources"
            description="Remove old sources html generated files">

        <delete>
            <fileset dir="${homedir}/docs/sources">
                <include name="*.html" />
            </fileset>
        </delete>

    </target>

    <target name="make-docs-sources"
            description="Build the highlighted source code of Net_Growl">

        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/Application.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/Exception.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/Gntp.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/gntpAdapter.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/gntpAdapterSecurity.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/gntpAdapterSocketCallbacks.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/gntpAdapterUrlCallbacks.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/GntpMock.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/Growl.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/Response.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/Udp.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/udpAdapter.txt"
        />
        <exec dir="${asciidoc.home}"
            command="asciidoc.py -a linkcss -a icons -a theme=growl ${homedir}/docs/sources/udpAdapterNotifyPEARerrors.txt"
        />

    </target>

</project>